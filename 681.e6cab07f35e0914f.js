"use strict";(self.webpackChunkordersystem=self.webpackChunkordersystem||[]).push([[681],{9681:(Ri,Dt,g)=>{g.r(Dt),g.d(Dt,{DashboardModule:()=>Mi});var b=g(177),e=g(7705),I=g(8490),j=g(1359),F=g(3152),f=g(6600);let ce=(()=>{class o{constructor(t,i){this.data=t,this.header=i,this.header.text="Dashboard",this.revenuePaid=0,this.revenueUnPaid=0,this.revenue=0,this.data.fetchData(),this.data.orderedItems.subscribe(s=>{if(this.revenuePaid=0,this.revenueUnPaid=0,s&&0!==s.length){for(const r of s)r.paid?this.revenuePaid+=r.item.price:this.revenueUnPaid+=r.item.price;this.revenue=this.revenuePaid+this.revenueUnPaid}})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(I.u),e.rXU(j.d))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-dashboard"]],decls:17,vars:18,consts:[[1,"dashboard-item"],["matRipple","","routerLink","edit/tables",1,"button","btn-primary"],["matRipple","","routerLink","edit/categories",1,"button","btn-primary"],["matRipple","","routerLink","edit/products",1,"button","btn-primary"],["matRipple","","routerLink","edit/infrastructure",1,"button","btn-primary"]],template:function(i,s){1&i&&(e.j41(0,"div",0),e.EFF(1),e.nI1(2,"currency"),e.k0s(),e.j41(3,"div",0),e.EFF(4),e.nI1(5,"currency"),e.k0s(),e.j41(6,"div",0),e.EFF(7),e.nI1(8,"currency"),e.k0s(),e.j41(9,"div",1),e.EFF(10," Tische bearbeiten\n"),e.k0s(),e.j41(11,"div",2),e.EFF(12," Kategorien bearbeiten\n"),e.k0s(),e.j41(13,"div",3),e.EFF(14," Produkte bearbeiten\n"),e.k0s(),e.j41(15,"div",4),e.EFF(16," Infrastruktur bearbeiten\n"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" Warenwert unbezahlt: ",e.ii3(2,3,s.revenueUnPaid,"EUR","symbol","1.2-2"),"\n"),e.R7$(3),e.SpI(" Warenwert bezahlt: ",e.ii3(5,8,s.revenuePaid,"EUR","symbol","1.2-2"),"\n"),e.R7$(3),e.SpI(" Umsatz: ",e.ii3(8,13,s.revenue,"EUR","symbol","1.2-2"),"\n"))},dependencies:[F.Wk,f.r6,b.oe],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;padding:0 10%;box-sizing:border-box}.dashboard-item[_ngcontent-%COMP%]{width:100%;margin:.5em 0;padding:1em 2em;box-sizing:border-box;border-radius:5px;box-shadow:var(--box-shadow);font-size:4vw;text-align:center}.button[_ngcontent-%COMP%]{text-align:center;margin:.5em 0}"]})}}return o})();var U=g(5416),x=g(6969),w=g(8617),K=g(2529),p=g(4085),wt=g(6939),m=g(1413),R=g(7786),xt=g(9030),A=g(5964),T=g(6697),L=g(9172),C=g(7336),u=g(9969);function de(o,n){}class Y{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const lt="mdc-dialog--open",St="mdc-dialog--opening",Pt="mdc-dialog--closing";let pe=(()=>{class o extends K.sU{constructor(t,i,s,r,a,l,c,d){super(t,i,s,r,a,l,c,d),this._animationStateChanged=new e.bkB}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(e.aKT),e.rXU(w.GX),e.rXU(b.qQ,8),e.rXU(Y),e.rXU(w.Z7),e.rXU(e.SKi),e.rXU(x.yY),e.rXU(w.FN))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],features:[e.Vt3],decls:0,vars:0,template:function(i,s){},encapsulation:2})}}return o})();const kt="--mat-dialog-transition-duration";function Et(o){return null==o?null:"number"==typeof o?o:o.endsWith("ms")?(0,p.OE)(o.substring(0,o.length-2)):o.endsWith("s")?1e3*(0,p.OE)(o.substring(0,o.length-1)):"0"===o?0:null}let me=(()=>{class o extends pe{constructor(t,i,s,r,a,l,c,d,h){super(t,i,s,r,a,l,c,h),this._animationMode=d,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Et(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Et(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(kt,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(St,lt)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(lt),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(lt),this._animationsEnabled?(this._hostElement.style.setProperty(kt,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Pt)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(St,Pt)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(e.aKT),e.rXU(w.GX),e.rXU(b.qQ,8),e.rXU(Y),e.rXU(w.Z7),e.rXU(e.SKi),e.rXU(x.yY),e.rXU(e.bc$,8),e.rXU(w.FN))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,s){2&i&&(e.Mr5("id",s._config.id),e.BMQ("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),e.AVh("_mat-animation-noopable",!s._animationsEnabled))},features:[e.Vt3],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,de,0,0,"ng-template",2),e.k0s()())},dependencies:[wt.I3],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return o})();class G{constructor(n,t,i){this._ref=n,this._containerInstance=i,this._afterOpened=new m.B,this._beforeClosed=new m.B,this._state=0,this.disableClose=t.disableClose,this.id=n.id,i._animationStateChanged.pipe((0,A.p)(s=>"opened"===s.state),(0,T.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,A.p)(s=>"closed"===s.state),(0,T.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,R.h)(this.backdropClick(),this.keydownEvents().pipe((0,A.p)(s=>s.keyCode===C._f&&!this.disableClose&&!(0,C.rp)(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),Ot(this,"keydown"===s.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe((0,A.p)(t=>"closing"===t.state),(0,T.s)(1)).subscribe(t=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let t=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?t.left(n.left):t.right(n.right):t.centerHorizontally(),n&&(n.top||n.bottom)?n.top?t.top(n.top):t.bottom(n.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",t=""){return this._ref.updateSize(n,t),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Ot(o,n,t){return o._closeInteractionType=n,o.close(t)}const W=new e.nKC("MatMdcDialogData"),ue=new e.nKC("mat-mdc-dialog-default-options"),Mt=new e.nKC("mat-mdc-dialog-scroll-strategy"),fe={provide:Mt,deps:[x.hJ],useFactory:function _e(o){return()=>o.scrollStrategies.block()}};let be=0,ve=(()=>{class o{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,s,r,a,l,c,d,h,_){this._overlay=t,this._defaultOptions=s,this._parentDialog=r,this._dialogRefConstructor=c,this._dialogContainerType=d,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new m.B,this._afterOpenedAtThisLevel=new m.B,this._idPrefix="mat-dialog-",this.dialogConfigClass=Y,this.afterAllClosed=(0,xt.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,L.Z)(void 0))),this._scrollStrategy=l,this._dialog=i.get(K.lG)}open(t,i){let s;(i={...this._defaultOptions||new Y,...i}).id=i.id||`${this._idPrefix}${be++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const r=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:K.Pe,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(a,l,c)=>(s=new this._dialogRefConstructor(a,i,c),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentRef=r.componentRef,s.componentInstance=r.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),B=(()=>{class o extends ve{constructor(t,i,s,r,a,l,c,d){super(t,i,r,l,c,a,G,me,W,d),this._idPrefix="mat-mdc-dialog-"}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(x.hJ),e.KVO(e.zZn),e.KVO(b.aZ,8),e.KVO(ue,8),e.KVO(Mt),e.KVO(o,12),e.KVO(x.Sf),e.KVO(e.bc$,8))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),ct=(()=>{class o{constructor(t,i,s){this.dialogRef=t,this._elementRef=i,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function ye(o,n){let t=o.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?n.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){Ot(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(G,8),e.rXU(e.aKT),e.rXU(B))}}static{this.\u0275dir=e.FsC({type:o,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,s){1&i&&e.bIt("click",function(a){return s._onButtonClick(a)}),2&i&&e.BMQ("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[e.OA$]})}}return o})(),Ce=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[B,fe],imports:[K.Ph,x.z_,wt.jc,f.yE,f.yE]})}}return o})();var Q=g(9631),S=g(882),y=g(9417);let Tt=(()=>{class o{constructor(t,i){this.data=t,this.dialogRef=i,this.isEdit=!1,t?(this.table={...t},this.isEdit=!0):this.table={id:-1,nr:"",ordering:1/0}}save(){0===this.table.nr.trim().length?this.dialogRef.close(null):this.dialogRef.close({nr:this.table.nr.trim()})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(W),e.rXU(G))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-table-popup"]],decls:11,vars:3,consts:[["appearance","outline"],["matInput","",3,"ngModel","ngModelChange"],["id","button-wrapper"],["matRipple","",1,"button","btn-danger",3,"mat-dialog-close"],["matRipple","",1,"button","btn-ok",3,"click"]],template:function(i,s){1&i&&(e.j41(0,"h1"),e.EFF(1),e.k0s(),e.j41(2,"mat-form-field",0)(3,"mat-label"),e.EFF(4,"Tischnummer"),e.k0s(),e.j41(5,"input",1),e.bIt("ngModelChange",function(a){return s.table.nr=a}),e.k0s()(),e.j41(6,"div",2)(7,"div",3),e.EFF(8," Abbrechen "),e.k0s(),e.j41(9,"div",4),e.bIt("click",function(){return s.save()}),e.EFF(10," Speichern "),e.k0s()()),2&i&&(e.R7$(1),e.SpI("Tisch ",s.isEdit?"bearbeiten":"hinzuf\xfcgen",""),e.R7$(4),e.Y8G("ngModel",s.table.nr),e.R7$(2),e.Y8G("mat-dialog-close",null))},dependencies:[f.r6,ct,Q.fg,S.rl,S.nJ,y.me,y.BC,y.vS],styles:["[_nghost-%COMP%]{width:70vw;padding:1em;display:block}h1[_ngcontent-%COMP%]{margin:0 0 1em;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%}#button-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-around}"]})}}return o})();var Z=g(4155),E=g(6860),N=g(8359),De=g(3236),we=g(1584),Se=g(536),It=g(1985),P=g(6977),dt=g(6354),Pe=g(8141),ht=g(5558),gt=g(584);function pt(o,n,t){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];s?o.setProperty(i,s,t?.has(i)?"important":""):o.removeProperty(i)}return o}function V(o,n){const t=n?"":"none";pt(o.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Ft(o,n,t){pt(o.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function J(o,n){return n&&"none"!=n?o+" "+n:o}function At(o){const n=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*n}function mt(o,n){return o.getPropertyValue(n).split(",").map(i=>i.trim())}function ut(o){const n=o.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function _t(o,n,t){const{top:i,bottom:s,left:r,right:a}=o;return t>=i&&t<=s&&n>=r&&n<=a}function X(o,n,t){o.top+=n,o.bottom=o.top+o.height,o.left+=t,o.right=o.left+o.width}function Lt(o,n,t,i){const{top:s,right:r,bottom:a,left:l,width:c,height:d}=o,h=c*n,_=d*n;return i>s-_&&i<a+_&&t>l-h&&t<r+h}class Bt{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ut(t)})})}handleScroll(n){const t=(0,E.Fb)(n),i=this.positions.get(t);if(!i)return null;const s=i.scrollPosition;let r,a;if(t===this._document){const d=this.getViewportScrollPosition();r=d.top,a=d.left}else r=t.scrollTop,a=t.scrollLeft;const l=s.top-r,c=s.left-a;return this.positions.forEach((d,h)=>{d.clientRect&&t!==h&&t.contains(h)&&X(d.clientRect,l,c)}),s.top=r,s.left=a,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Vt(o){const n=o.cloneNode(!0),t=n.querySelectorAll("[id]"),i=o.nodeName.toLowerCase();n.removeAttribute("id");for(let s=0;s<t.length;s++)t[s].removeAttribute("id");return"canvas"===i?Gt(o,n):("input"===i||"select"===i||"textarea"===i)&&Ut(o,n),jt("canvas",o,n,Gt),jt("input, textarea, select",o,n,Ut),n}function jt(o,n,t,i){const s=n.querySelectorAll(o);if(s.length){const r=t.querySelectorAll(o);for(let a=0;a<s.length;a++)i(s[a],r[a])}}let Ee=0;function Ut(o,n){"file"!==n.type&&(n.value=o.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${Ee++}`)}function Gt(o,n){const t=n.getContext("2d");if(t)try{t.drawImage(o,0,0)}catch{}}const Nt=(0,E.BQ)({passive:!0}),q=(0,E.BQ)({passive:!1}),ft=new Set(["position"]);class Me{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const t=(0,p.he)(n);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>V(i,t)))}constructor(n,t,i,s,r,a){this._config=t,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new m.B,this._pointerMoveSubscription=N.yU.EMPTY,this._pointerUpSubscription=N.yU.EMPTY,this._scrollSubscription=N.yU.EMPTY,this._resizeSubscription=N.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new m.B,this.started=new m.B,this.released=new m.B,this.ended=new m.B,this.entered=new m.B,this.exited=new m.B,this.dropped=new m.B,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const O=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),M=this._dropContainer;if(!O)return void this._endDragSequence(l);(!M||!M.isDragging()&&!M.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const h=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,_=this._activeTransform;_.x=d.x-h.x+this._passiveTransform.x,_.y=d.y-h.y+this._passiveTransform.y,this._applyRootElementTransform(_.x,_.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new Bt(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>(0,p.i8)(i)),this._handles.forEach(i=>V(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const t=(0,p.i8)(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,q),t.addEventListener("touchstart",this._pointerDown,Nt),t.addEventListener("dragstart",this._nativeDragStart,q)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?(0,p.i8)(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),V(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),V(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){z(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Ft(i,!1,ft),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,l).appendChild(this._preview),this.started.next({source:this,event:n}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),s=z(t),r=!s&&0!==t.button,a=this._rootElement,l=(0,E.Fb)(t),c=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=s?(0,w.w6)(t):(0,w._G)(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),i||r||c||d)return;if(this._handles.length){const D=a.style;this._rootElementTapHighlight=D.webkitTapHighlightColor||"",D.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(D=>this._updateOnScroll(D)),this._boundaryElement&&(this._boundaryRect=ut(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,n,t);const _=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:_.x,y:_.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){Ft(this._rootElement,!0,ft),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),s=this._getPointerPositionOnPage(n),r=this._getDragDistance(s),a=t._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s,event:n}),t.drop(this,i,this._initialIndex,this._initialContainer,a,r,s,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,n,t,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,t):this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,t=this.previewClass,i=n?n.template:null;let s;if(i&&n){const r=n.matchSize?this._initialClientRect:null,a=n.viewContainer.createEmbeddedView(i,n.context);a.detectChanges(),s=zt(a,this._document),this._previewRef=a,n.matchSize?$t(s,r):s.style.transform=tt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else s=Vt(this._rootElement),$t(s,this._initialClientRect),this._initialTransform&&(s.style.transform=this._initialTransform);return pt(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ft),V(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(r=>s.classList.add(r)):s.classList.add(t)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const t=function ke(o){const n=getComputedStyle(o),t=mt(n,"transition-property"),i=t.find(l=>"transform"===l||"all"===l);if(!i)return 0;const s=t.indexOf(i),r=mt(n,"transition-duration"),a=mt(n,"transition-delay");return At(r[s])+At(a[s])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=a=>{(!a||(0,E.Fb)(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*t);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,t=n?n.template:null;let i;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),i=zt(this._placeholderRef,this._document)):i=Vt(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,t,i){const s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():n,a=z(i)?i.targetTouches[0]:i,l=this._getViewportScrollPosition();return{x:r.left-n.left+(a.pageX-r.left-l.left),y:r.top-n.top+(a.pageY-r.top-l.top)}}_getPointerPositionOnPage(n){const t=this._getViewportScrollPosition(),i=z(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,s=i.pageX-t.left,r=i.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=s,l.y=r,l.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(n){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(n,this,this._initialClientRect,this._pickupPositionInElement):n;if("x"===this.lockAxis||"x"===t?s=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:r,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),h=l.top+a,_=l.bottom-(d-a);i=Xt(i,l.left+r,l.right-(c-r)),s=Xt(s,h,_)}return{x:i,y:s}}_updatePointerDirectionDelta(n){const{x:t,y:i}=n,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-r.x),l=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=t>r.x?1:-1,r.x=t),l>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,V(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,q),n.removeEventListener("touchstart",this._pointerDown,Nt),n.removeEventListener("dragstart",this._nativeDragStart,q)}_applyRootElementTransform(n,t){const i=tt(n,t),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=J(i,this._initialTransform)}_applyPreviewTransform(n,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,s=tt(n,t);this._preview.style.transform=J(s,i)}_getDragDistance(n){const t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(0===n&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===i.width&&0===i.height)return;const r=s.left-i.left,a=i.right-s.right,l=s.top-i.top,c=i.bottom-s.bottom;s.width>i.width?(r>0&&(n+=r),a>0&&(n-=a)):n=0,s.height>i.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){const t=this.dragStartDelay;return"number"==typeof t?t:z(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){const t=this._parentPositions.handleScroll(n);if(t){const i=(0,E.Fb)(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&X(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,E.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const s=this._document;return t||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return(0,p.i8)(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(n){return this._handles.find(t=>n.target&&(n.target===t||t.contains(n.target)))}}function tt(o,n){return`translate3d(${Math.round(o)}px, ${Math.round(n)}px, 0)`}function Xt(o,n,t){return Math.max(n,Math.min(t,o))}function z(o){return"t"===o.type[0]}function zt(o,n){const t=o.rootNodes;if(1===t.length&&t[0].nodeType===n.ELEMENT_NODE)return t[0];const i=n.createElement("div");return t.forEach(s=>i.appendChild(s)),i}function $t(o,n){o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,o.style.transform=tt(n.left,n.top)}function et(o,n,t){const i=$(n,o.length-1),s=$(t,o.length-1);if(i===s)return;const r=o[i],a=s<i?-1:1;for(let l=i;l!==s;l+=a)o[l]=o[l+a];o[s]=r}function $(o,n){return Math.max(0,Math.min(n,o))}class Re{constructor(n,t){this._element=n,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(n){this.withItems(n)}sort(n,t,i,s){const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,t,i,s);if(-1===a&&r.length>0)return null;const l="horizontal"===this.orientation,c=r.findIndex(v=>v.drag===n),d=r[a],_=d.clientRect,D=c>a?1:-1,O=this._getItemOffsetPx(r[c].clientRect,_,D),M=this._getSiblingOffsetPx(c,r,D),k=r.slice();return et(r,c,a),r.forEach((v,H)=>{if(k[H]===v)return;const ae=v.drag===n,Ct=ae?O:M,le=ae?n.getPlaceholderElement():v.drag.getRootElement();v.offset+=Ct,l?(le.style.transform=J(`translate3d(${Math.round(v.offset)}px, 0, 0)`,v.initialTransform),X(v.clientRect,0,Ct)):(le.style.transform=J(`translate3d(0, ${Math.round(v.offset)}px, 0)`,v.initialTransform),X(v.clientRect,Ct,0))}),this._previousSwap.overlaps=_t(_,t,i),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?s.x:s.y,{previousIndex:c,currentIndex:a}}enter(n,t,i,s){const r=null==s||s<0?this._getItemIndexFromPointerPosition(n,t,i):s,a=this._activeDraggables,l=a.indexOf(n),c=n.getPlaceholderElement();let d=a[r];if(d===n&&(d=a[r+1]),!d&&(null==r||-1===r||r<a.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(d=a[0]),l>-1&&a.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(c,h),a.splice(r,0,n)}else(0,p.i8)(this._element).appendChild(c),a.push(n);c.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables.forEach(n=>{const t=n.getRootElement();if(t){const i=this._itemPositions.find(s=>s.drag===n)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n)}updateOnScroll(n,t){this._itemPositions.forEach(({clientRect:i})=>{X(i,n,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:ut(i)}}).sort((t,i)=>n?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(n,t,i){const s="horizontal"===this.orientation;let r=s?t.left-n.left:t.top-n.top;return-1===i&&(r+=s?t.width-n.width:t.height-n.height),r}_getSiblingOffsetPx(n,t,i){const s="horizontal"===this.orientation,r=t[n].clientRect,a=t[n+-1*i];let l=r[s?"width":"height"]*i;if(a){const c=s?"left":"top",d=s?"right":"bottom";-1===i?l-=a.clientRect[c]-r[d]:l+=r[c]-a.clientRect[d]}return l}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return s?n>=a.right:t>=a.bottom}{const a=i[0].clientRect;return s?n<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(n,t,i,s){const r="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>l!==n&&((!s||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(r?s.x:s.y)!==this._previousSwap.delta)&&(r?t>=Math.floor(c.left)&&t<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom))));return-1!==a&&this._sortPredicate(a,n)?a:-1}}class Te{constructor(n,t,i,s,r){this._dragDropRegistry=t,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new m.B,this.entered=new m.B,this.exited=new m.B,this.dropped=new m.B,this.sorted=new m.B,this.receivingStarted=new m.B,this.receivingStopped=new m.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=N.yU.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new m.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function xe(o=0,n=De.E){return o<0&&(o=0),(0,we.O)(o,o,n)}(0,Se.X).pipe((0,P.Q)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=(0,p.i8)(n),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Bt(i),this._sortStrategy=new Re(this.element,t),this._sortStrategy.withSortPredicate((a,l)=>this.sortPredicate(a,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,i,s){this._draggingStarted(),null==s&&this.sortingDisabled&&(s=this._draggables.indexOf(n)),this._sortStrategy.enter(n,t,i,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,i,s,r,a,l,c={}){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:l,event:c})}withItems(n){const t=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(s=>s.isDragging()).every(s=>-1===n.indexOf(s))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._sortStrategy.direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._sortStrategy.orientation=n,this}withScrollableParents(n){const t=(0,p.i8)(this.element);return this._scrollableElements=-1===n.indexOf(t)?[t,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,i,s){if(this.sortingDisabled||!this._clientRect||!Lt(this._clientRect,.05,t,i))return;const r=this._sortStrategy.sort(n,t,i,s);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||i||Lt(a.clientRect,.05,n,t)&&([s,r]=function Ie(o,n,t,i){const s=Yt(n,i),r=Wt(n,t);let a=0,l=0;if(s){const c=o.scrollTop;1===s?c>0&&(a=1):o.scrollHeight-c>o.clientHeight&&(a=2)}if(r){const c=o.scrollLeft;1===r?c>0&&(l=1):o.scrollWidth-c>o.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,n,t),(s||r)&&(i=l))}),!s&&!r){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};s=Yt(c,t),r=Wt(c,n),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=(0,p.i8)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=(0,p.i8)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_reset(){this._isDragging=!1;const n=(0,p.i8)(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(n,t){return null!=this._clientRect&&_t(this._clientRect,n,t)}_getSiblingContainerFromPosition(n,t,i){return this._siblings.find(s=>s._canReceive(n,t,i))}_canReceive(n,t,i){if(!this._clientRect||!_t(this._clientRect,t,i)||!this.enterPredicate(n,this))return!1;const s=this._getShadowRoot().elementFromPoint(t,i);if(!s)return!1;const r=(0,p.i8)(this.element);return s===r||r.contains(s)}_startReceiving(n,t){const i=this._activeSiblings;!i.has(n)&&t.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:t}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(n);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=(0,E.KT)((0,p.i8)(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}}function Yt(o,n){const{top:t,bottom:i,height:s}=o,r=.05*s;return n>=t-r&&n<=t+r?1:n>=i-r&&n<=i+r?2:0}function Wt(o,n){const{left:t,right:i,width:s}=o,r=.05*s;return n>=t-r&&n<=t+r?1:n>=i-r&&n<=i+r?2:0}const it=(0,E.BQ)({passive:!1,capture:!0});let Fe=(()=>{class o{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new m.B,this.pointerUp=new m.B,this.scroll=new m.B,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,it)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,it)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:it}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:it}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new It.c(s=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&s.next(l)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,R.h)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(e.SKi),e.KVO(b.qQ))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const Ae={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Qt=(()=>{class o{constructor(t,i,s,r){this._document=t,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(t,i=Ae){return new Me(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Te(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(b.qQ),e.KVO(e.SKi),e.KVO(Z.Xj),e.KVO(Fe))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const bt=new e.nKC("CDK_DRAG_PARENT"),vt=new e.nKC("CdkDragHandle");let nt=(()=>{class o{get disabled(){return this._disabled}set disabled(t){this._disabled=(0,p.he)(t),this._stateChanges.next(this)}constructor(t,i){this.element=t,this._stateChanges=new m.B,this._disabled=!1,this._parentDrag=i}ngOnDestroy(){this._stateChanges.complete()}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(e.aKT),e.rXU(bt,12))}}static{this.\u0275dir=e.FsC({type:o,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[e.Jv_([{provide:vt,useExisting:o}])]})}}return o})();const Zt=new e.nKC("CdkDragPlaceholder"),Jt=new e.nKC("CdkDragPreview"),qt=new e.nKC("CDK_DRAG_CONFIG"),te=new e.nKC("CdkDropList");let st=(()=>{class o{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=(0,p.he)(t),this._dragRef.disabled=this._disabled}constructor(t,i,s,r,a,l,c,d,h,_,D){this.element=t,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=h,this._selfHandle=_,this._parentDrag=D,this._destroyed=new m.B,this.started=new e.bkB,this.released=new e.bkB,this.ended=new e.bkB,this.entered=new e.bkB,this.exited=new e.bkB,this.dropped=new e.bkB,this.moved=new It.c(O=>{const M=this._dragRef.moved.pipe((0,dt.T)(k=>({source:this,pointerPosition:k.pointerPosition,event:k.event,delta:k.delta,distance:k.distance}))).subscribe(O);return()=>{M.unsubscribe()}}),this._dragRef=d.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,o._dragInstances.push(this),l&&this._assignDefaults(l),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,T.s)(1),(0,P.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,s=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=o._dragInstances.indexOf(this);t>-1&&o._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,p.i8)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof s&&s?s:(0,p.OE)(s),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,T.s)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(o._dragInstances.find(s=>s.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:d,previewContainer:h}=t;this.disabled=c??!1,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),l&&(this.boundaryElement=l),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe((0,L.Z)(this._handles),(0,Pe.M)(t=>{const i=t.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,ht.n)(t=>(0,R.h)(...t.map(i=>i._stateChanges.pipe((0,L.Z)(i))))),(0,P.Q)(this._destroyed)).subscribe(t=>{const i=this._dragRef,s=t.element.nativeElement;t.disabled?i.disableHandle(s):i.enableHandle(s)})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(e.aKT),e.rXU(te,12),e.rXU(b.qQ),e.rXU(e.SKi),e.rXU(e.c1b),e.rXU(qt,8),e.rXU(gt.dS,8),e.rXU(Qt),e.rXU(e.gRc),e.rXU(vt,10),e.rXU(bt,12))}}static{this.\u0275dir=e.FsC({type:o,selectors:[["","cdkDrag",""]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,Jt,5),e.wni(r,Zt,5),e.wni(r,vt,5)),2&i){let a;e.mGM(a=e.lsd())&&(s._previewTemplate=a.first),e.mGM(a=e.lsd())&&(s._placeholderTemplate=a.first),e.mGM(a=e.lsd())&&(s._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,s){2&i&&e.AVh("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[e.Jv_([{provide:bt,useExisting:o}]),e.OA$]})}}return o})();const yt=new e.nKC("CdkDropListGroup");let Ue=0,ot=(()=>{class o{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=(0,p.he)(t)}constructor(t,i,s,r,a,l,c){this.element=t,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=a,this._group=l,this._destroyed=new m.B,this.connectedTo=[],this.id="cdk-drop-list-"+Ue++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.bkB,this.entered=new e.bkB,this.exited=new e.bkB,this.sorted=new e.bkB,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(d,h)=>this.enterPredicate(d.data,h.data),this._dropListRef.sortPredicate=(d,h,_)=>this.sortPredicate(d,h.data,_.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),o._dropLists.push(this),l&&l._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=o._dropLists.indexOf(this);t>-1&&o._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,L.Z)(this._dir.value),(0,P.Q)(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=(0,p.FG)(this.connectedTo).map(s=>"string"==typeof s?o._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,p.he)(this.sortingDisabled),t.autoScrollDisabled=(0,p.he)(this.autoScrollDisabled),t.autoScrollStep=(0,p.OE)(this.autoScrollStep,2),t.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,R.h)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:a,listOrientation:l}=t;this.disabled=s??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(e.aKT),e.rXU(Qt),e.rXU(e.gRc),e.rXU(Z.R),e.rXU(gt.dS,8),e.rXU(yt,12),e.rXU(qt,8))}}static{this.\u0275dir=e.FsC({type:o,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,s){2&i&&(e.BMQ("id",s.id),e.AVh("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[e.Jv_([{provide:yt,useValue:void 0},{provide:te,useExisting:o}])]})}}return o})();var rt=g(1801),at=g(8834);function Ge(o,n){if(1&o){const t=e.RV6();e.j41(0,"div",6)(1,"mat-icon",7),e.EFF(2,"drag_handle"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"div",8)(6,"button",9),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.edit(r))}),e.j41(7,"mat-icon",10),e.EFF(8,"edit"),e.k0s()(),e.j41(9,"button",9),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.delete(r))}),e.j41(10,"mat-icon",11),e.EFF(11,"delete"),e.k0s()()()()}if(2&o){const t=n.$implicit;e.R7$(4),e.JRh(t.nr)}}function Ne(o,n){1&o&&(e.j41(0,"span",12),e.EFF(1,"Es sind noch keine Tische vorhanden"),e.k0s())}let Xe=(()=>{class o{constructor(t,i,s,r){this.data=t,this.header=i,this.dialog=s,this.snackBar=r,this.tables=[],this.loaded=!1,this.data.tables.subscribe(a=>{this.tables=a.sort((l,c)=>l.ordering-c.ordering),this.loaded=!0}),this.data.fetchData(),this.header.text="Tische bearbeiten"}create(){this.dialog.open(Tt,{data:null}).afterClosed().subscribe(t=>{t&&(this.tables.find(i=>i.nr===t.nr)?this.snackBar.open(`Tisch ${t.nr} existiert bereits`,"X",{duration:2500}):this.data.upsert("tables",{...t}))})}delete(t){this.data.delete("tables",t.id)}edit(t){this.dialog.open(Tt,{data:t}).afterClosed().subscribe(i=>{i&&(this.tables.find(s=>s.nr===i.nr)?this.snackBar.open(`Tisch ${i.nr} existiert bereits`,"X",{duration:2500}):this.data.upsert("tables",{...t,nr:i.nr}).then(s=>{const{error:a}=s;this.snackBar.open(a?"Fehler beim Speichern":"Tisch gespeichert","X",{duration:2500})}))})}drop(t){et(this.tables,t.previousIndex,t.currentIndex);const i=[];this.tables=this.tables.map((s,r)=>{const a={...s,ordering:r+1};return s.ordering!==a.ordering&&i.push(a),a}),i.forEach(s=>{this.data.upsert("tables",{...s})})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(I.u),e.rXU(j.d),e.rXU(B),e.rXU(U.UG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-tables"]],decls:8,vars:2,consts:[["id","button-wrapper"],["matRipple","",1,"button","btn-primary",3,"click"],["cdkDropList","","id","table-wrapper",3,"cdkDropListDropped"],["cdkDrag","","class","table",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["matRipple","","routerLink","/dashboard",1,"button","btn-danger"],["cdkDrag","",1,"table"],["cdkDragHandle",""],[1,"icon-wrapper"],["mat-icon-button","",3,"click"],["color","primary"],["color","warn"],[1,"error"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return s.create()}),e.EFF(2,"Tisch hinzuf\xfcgen"),e.k0s()(),e.j41(3,"div",2),e.bIt("cdkDropListDropped",function(a){return s.drop(a)}),e.DNE(4,Ge,12,1,"div",3),e.k0s(),e.DNE(5,Ne,2,0,"span",4),e.j41(6,"div",5),e.EFF(7,"Zur\xfcck"),e.k0s()),2&i&&(e.R7$(4),e.Y8G("ngForOf",s.tables),e.R7$(1),e.Y8G("ngIf",0===s.tables.length&&s.loaded))},dependencies:[b.Sq,b.bT,F.Wk,f.r6,rt.An,at.iY,nt,ot,st],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center}#unsaved[_ngcontent-%COMP%]{display:flex;align-items:center}#unsaved[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5em}#button-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly}#button-wrapper[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:1em 0}#table-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.table[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]{width:100%;font-size:4vw;display:flex;align-items:center;justify-content:space-between;background:#fff}.table[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{width:5%;cursor:grab;margin-left:.75em}.table[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:active, .cdk-drag-preview[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:active{cursor:grabbing}.table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;text-align:left}.table[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:25%}.table[_ngcontent-%COMP%]:nth-child(odd), .cdk-drag-preview[_ngcontent-%COMP%]:nth-child(odd){background:var(--table-accent)}.btn-danger[_ngcontent-%COMP%]{margin:1em 0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return o})();g(4402),g(7673);class Ke{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,t,i=!0,s){this._multiple=n,this._emitChanges=i,this.compareWith=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new m.B,t&&t.length&&(n?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...n){this._verifyValueAssignment(n);const t=this.selected,i=new Set(n);n.forEach(r=>this._markSelected(r)),t.filter(r=>!i.has(r)).forEach(r=>this._unmarkSelected(r));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const t=this._hasQueuedChanges();return n&&this._emitChangeEvent(),t}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let t of this._selection)if(this.compareWith(n,t))return t;return n}return n}}var Ye=g(3294);const We=["trigger"],Qe=["panel"];function Ze(o,n){if(1&o&&(e.j41(0,"span",10),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.JRh(t.placeholder)}}function Je(o,n){if(1&o&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.JRh(t.triggerValue)}}function qe(o,n){1&o&&e.SdG(0,0,["*ngSwitchCase","true"])}function ti(o,n){if(1&o&&(e.j41(0,"span",11),e.DNE(1,Je,2,1,"span",12),e.DNE(2,qe,1,0,"ng-content",13),e.k0s()),2&o){const t=e.XpG();e.Y8G("ngSwitch",!!t.customTrigger),e.R7$(2),e.Y8G("ngSwitchCase",!0)}}function ei(o,n){if(1&o){const t=e.RV6();e.qSk(),e.joV(),e.j41(0,"div",15,16),e.bIt("@transformPanel.done",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r._panelDoneAnimatingStream.next(s.toState))})("keydown",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r._handleKeydown(s))}),e.SdG(2,1),e.k0s()}if(2&o){const t=e.XpG();e.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),e.Y8G("ngClass",t.panelClass)("@transformPanel","showing"),e.BMQ("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const ii=[[["mat-select-trigger"]],"*"],ni=["mat-select-trigger","*"],si={transformPanelWrap:(0,u.hZ)("transformPanelWrap",[(0,u.kY)("* => void",(0,u.P)("@transformPanel",[(0,u.MA)()],{optional:!0}))]),transformPanel:(0,u.hZ)("transformPanel",[(0,u.wk)("void",(0,u.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,u.kY)("void => showing",(0,u.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,u.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,u.kY)("* => void",(0,u.i0)("100ms linear",(0,u.iF)({opacity:0})))])};let ee=0;const ie=new e.nKC("mat-select-scroll-strategy"),ri=new e.nKC("MAT_SELECT_CONFIG"),ai={provide:ie,deps:[x.hJ],useFactory:function oi(o){return()=>o.scrollStrategies.reposition()}},li=new e.nKC("MatSelectTrigger");class ci{constructor(n,t){this.source=n,this.value=t}}const di=(0,f.GG)((0,f.BF)((0,f.Ob)((0,f.J8)(class{constructor(o,n,t,i,s){this._elementRef=o,this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=i,this.ngControl=s,this.stateChanges=new m.B}}))));let hi=(()=>{class o extends di{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(y.k0.required)??!1}set required(t){this._required=(0,p.he)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,p.he)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=(0,p.he)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=(0,p.OE)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,s,r,a,l,c,d,h,_,D,O,M,k){super(a,r,c,d,_),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=s,this._dir=l,this._parentFormField=h,this._liveAnnouncer=M,this._defaultOptions=k,this._panelOpen=!1,this._compareWith=(v,H)=>v===H,this._uid="mat-select-"+ee++,this._triggerAriaLabelledBy=null,this._destroy=new m.B,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ee++,this._panelDoneAnimatingStream=new m.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,xt.v)(()=>{const v=this.options;return v?v.changes.pipe((0,L.Z)(v),(0,ht.n)(()=>(0,R.h)(...v.map(H=>H.onSelectionChange)))):this._ngZone.onStable.pipe((0,T.s)(1),(0,ht.n)(()=>this.optionSelectionChanges))}),this.openedChange=new e.bkB,this._openedStream=this.openedChange.pipe((0,A.p)(v=>v),(0,dt.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,A.p)(v=>!v),(0,dt.T)(()=>{})),this.selectionChange=new e.bkB,this.valueChange=new e.bkB,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=k?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=k.typeaheadDebounceInterval),this._scrollStrategyFactory=O,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(D)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ke(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Ye.F)(),(0,P.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,P.Q)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,L.Z)(null),(0,P.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?s.setAttribute("aria-labelledby",t):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&(0,w.Ae)(this._trackedModal,"aria-owns",i),(0,w.px)(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&((0,w.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,s=i===C.n6||i===C.i7||i===C.UQ||i===C.LE,r=i===C.Fm||i===C.t6,a=this._keyManager;if(!a.isTyping()&&r&&!(0,C.rp)(t)||(this.multiple||t.altKey)&&s)t.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;a.onKeydown(t);const c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,s=t.keyCode,r=s===C.n6||s===C.i7,a=i.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(a||s!==C.Fm&&s!==C.t6||!i.activeItem||(0,C.rp)(t))if(!a&&this._multiple&&s===C.A&&t.ctrlKey){t.preventDefault();const l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{const l=i.activeItemIndex;i.onKeydown(t),this._multiple&&r&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==l&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,T.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_skipPredicate(t){return t.disabled}_initKeyManager(){this._keyManager=new w.Au(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,R.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,P.Q)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,R.h)(...this.options.map(i=>i._stateChanges)).pipe((0,P.Q)(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const s=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(s!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),s!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,t):t.indexOf(i)-t.indexOf(s)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(Z.Xj),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(f.es),e.rXU(e.aKT),e.rXU(gt.dS,8),e.rXU(y.cV,8),e.rXU(y.j4,8),e.rXU(S.xb,8),e.rXU(y.vO,10),e.kS0("tabindex"),e.rXU(ie),e.rXU(w.Ai),e.rXU(ri,8))}}static{this.\u0275dir=e.FsC({type:o,viewQuery:function(i,s){if(1&i&&(e.GBs(We,5),e.GBs(Qe,5),e.GBs(x.WB,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.trigger=r.first),e.mGM(r=e.lsd())&&(s.panel=r.first),e.mGM(r=e.lsd())&&(s._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[e.Vt3,e.OA$]})}}return o})(),ne=(()=>{class o extends hi{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=t=>!this.panelOpen&&t.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,P.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const s=this.panel.nativeElement,r=(0,f.jb)(t,this.options,this.optionGroups),a=i._getHostElement();s.scrollTop=0===t&&1===r?0:(0,f.TL)(a.offsetTop,a.offsetHeight,s.scrollTop,s.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new ci(this,t)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof x.$Q?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=(0,p.he)(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(o)))(s||o)}}()}static{this.\u0275cmp=e.VBU({type:o,selectors:[["mat-select"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,li,5),e.wni(r,f.wT,5),e.wni(r,f.QC,5)),2&i){let a;e.mGM(a=e.lsd())&&(s.customTrigger=a.first),e.mGM(a=e.lsd())&&(s.options=a),e.mGM(a=e.lsd())&&(s.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,s){1&i&&e.bIt("keydown",function(a){return s._handleKeydown(a)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&i&&(e.BMQ("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),e.AVh("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[e.Jv_([{provide:S.qT,useExisting:o},{provide:f.is,useExisting:o}]),e.Vt3],ngContentSelectors:ni,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,s){if(1&i&&(e.NAR(ii),e.j41(0,"div",0,1),e.bIt("click",function(){return s.toggle()}),e.j41(3,"div",2),e.DNE(4,Ze,2,1,"span",3),e.DNE(5,ti,3,2,"span",4),e.k0s(),e.j41(6,"div",5)(7,"div",6),e.qSk(),e.j41(8,"svg",7),e.nrm(9,"path",8),e.k0s()()()(),e.DNE(10,ei,3,9,"ng-template",9),e.bIt("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&i){const r=e.sdS(1);e.R7$(3),e.Y8G("ngSwitch",s.empty),e.BMQ("id",s._valueId),e.R7$(1),e.Y8G("ngSwitchCase",!0),e.R7$(1),e.Y8G("ngSwitchCase",!1),e.R7$(5),e.Y8G("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[b.YU,b.ux,b.e1,b.fG,x.WB,x.$Q],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[si.transformPanel]},changeDetection:0})}}return o})(),gi=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[ai],imports:[b.MD,x.z_,f.Sy,f.yE,Z.Gj,S.RG,f.Sy,f.yE]})}}return o})();function pi(o,n){if(1&o&&(e.j41(0,"mat-option",8),e.EFF(1),e.k0s()),2&o){const t=n.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t.name)}}let se=(()=>{class o{constructor(t,i,s){this.dialogData=t,this.dialogRef=i,this.data=s,this.isEdit=!1,this.categories=[],this.data.categories.subscribe(r=>{this.categories=r.sort((a,l)=>a.ordering-l.ordering)}),this.data.fetchData(),this.formControl=new y.MJ("",[y.k0.required,y.k0.minLength(1)]),t?(this.product={...t,category:this.categories.find(r=>r.id===t.category.id)||this.categories[0]},this.isEdit=!0,this.formControl.setValue(this.product.name)):this.product={id:-1,name:"",price:NaN,ordering:NaN,category:{id:-1,name:"",ordering:NaN}}}save(){this.formControl.invalid||(this.product.name=String(this.formControl.value).trim(),0===this.product.name.trim().length?this.dialogRef.close(null):this.dialogRef.close(this.product))}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(W),e.rXU(G),e.rXU(I.u))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-product-popup"]],decls:20,vars:6,consts:[["appearance","outline"],["matInput","",3,"formControl"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number",3,"ngModel","ngModelChange"],["id","button-wrapper"],["matRipple","",1,"button","btn-danger",3,"mat-dialog-close"],["matRipple","",1,"button","btn-ok",3,"click"],[3,"value"]],template:function(i,s){1&i&&(e.j41(0,"h1"),e.EFF(1),e.k0s(),e.j41(2,"mat-form-field",0)(3,"mat-label"),e.EFF(4,"Bezeichnung"),e.k0s(),e.nrm(5,"input",1),e.k0s(),e.j41(6,"mat-form-field",0)(7,"mat-label"),e.EFF(8,"Kategorie"),e.k0s(),e.j41(9,"mat-select",2),e.bIt("ngModelChange",function(a){return s.product.category=a}),e.DNE(10,pi,2,2,"mat-option",3),e.k0s()(),e.j41(11,"mat-form-field",0)(12,"mat-label"),e.EFF(13,"Preis"),e.k0s(),e.j41(14,"input",4),e.bIt("ngModelChange",function(a){return s.product.price=a}),e.k0s()(),e.j41(15,"div",5)(16,"div",6),e.EFF(17," Abbrechen "),e.k0s(),e.j41(18,"div",7),e.bIt("click",function(){return s.save()}),e.EFF(19," Speichern "),e.k0s()()),2&i&&(e.R7$(1),e.SpI("Getr\xe4nk ",s.isEdit?"bearbeiten":"hinzuf\xfcgen",""),e.R7$(4),e.Y8G("formControl",s.formControl),e.R7$(4),e.Y8G("ngModel",s.product.category),e.R7$(1),e.Y8G("ngForOf",s.categories),e.R7$(4),e.Y8G("ngModel",s.product.price),e.R7$(2),e.Y8G("mat-dialog-close",null))},dependencies:[b.Sq,f.r6,ct,Q.fg,S.rl,S.nJ,y.me,y.Q0,y.BC,y.vS,ne,f.wT,y.l_],styles:["[_nghost-%COMP%]{width:70vw;padding:1em;display:block}h1[_ngcontent-%COMP%]{margin:0 0 1em;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%;margin:.5em 0}#button-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-around}"]})}}return o})();function mi(o,n){1&o&&(e.j41(0,"span",8),e.EFF(1,"Es sind noch keine Produkte in dieser Kategorie vorhanden"),e.k0s())}function ui(o,n){if(1&o){const t=e.RV6();e.j41(0,"div",9)(1,"mat-icon",10),e.EFF(2,"drag_handle"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.EFF(6),e.nI1(7,"number"),e.k0s(),e.j41(8,"div",11)(9,"button",12),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.edit(r))}),e.j41(10,"mat-icon",13),e.EFF(11,"edit"),e.k0s()(),e.j41(12,"button",12),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.delete(r.id))}),e.j41(13,"mat-icon",14),e.EFF(14,"delete"),e.k0s()()()()}if(2&o){const t=n.$implicit,i=e.XpG(2);e.R7$(4),e.JRh(t.name),e.R7$(2),e.SpI("",i.formatPrice(e.i5U(7,2,t.price,"1.2-2")),"\u20ac")}}function _i(o,n){if(1&o){const t=e.RV6();e.j41(0,"div",4),e.bIt("cdkDropListDropped",function(s){const a=e.eBV(t).index,l=e.XpG();return e.Njj(l.drop(s,a))}),e.j41(1,"span",5),e.EFF(2),e.k0s(),e.DNE(3,mi,2,0,"span",6),e.DNE(4,ui,15,5,"div",7),e.k0s()}if(2&o){const t=n.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.name),e.R7$(1),e.Y8G("ngIf",0===i.getFilteredProducts(t.id).length&&i.loaded),e.R7$(1),e.Y8G("ngForOf",t.products)}}let fi=(()=>{class o{constructor(t,i,s,r){this.data=t,this.header=i,this.dialog=s,this.snackBar=r,this.products=[],this.categories=[],this.loaded=!1,this.displayData=[],setTimeout(()=>this.header.text="Produkte bearbeiten"),this.data.products.subscribe(a=>{this.products=a,this.loaded=!0,this.mapDisplayData()}),this.data.categories.subscribe(a=>{this.categories=a.sort((l,c)=>l.ordering-c.ordering),this.mapDisplayData()}),this.data.fetchData()}create(){this.dialog.open(se,{data:null}).afterClosed().subscribe(t=>{t&&(this.products.find(i=>i.name===t.name)?this.snackBar.open(`Produkt ${t.name} existiert bereits`,"X",{duration:2500}):(delete t.id,this.data.upsert("product",{...t,category:t.category.id,ordering:this.products.length})))})}delete(t){this.data.delete("product",t).catch(i=>{console.error(i),this.snackBar.open("Fehler beim L\xf6schen","X",{duration:2500})})}edit(t){this.dialog.open(se,{data:t}).afterClosed().subscribe(i=>{if(i){if(-1!=this.products.findIndex(r=>r.name.toLowerCase().trim()===i.name.toLowerCase().trim()&&r.id!==i.id))return void this.snackBar.open(`Produkt ${i.name} existiert bereits`,"X",{duration:2500});this.data.upsert("product",{...i,category:i.category.id})}})}drop(t,i){et(this.displayData[i].products,t.previousIndex,t.currentIndex);const s=[];this.displayData[i].products=this.displayData[i].products.map((r,a)=>{const l={...r,ordering:a+1};return r.ordering!==l.ordering&&s.push(l),l}),s.forEach(r=>{this.data.upsert("product",{...r,category:r.category.id})})}getFilteredProducts(t){return this.products.filter(i=>i.category.id===t).sort((i,s)=>i.ordering-s.ordering)}formatPrice(t){return t?t.replace(".",","):"0,00"}mapDisplayData(){!this.loaded||0===this.categories.length||(this.displayData=this.categories.map(t=>({name:t.name,id:t.id,products:this.getFilteredProducts(t.id)})))}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(I.u),e.rXU(j.d),e.rXU(B),e.rXU(U.UG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-product"]],decls:6,vars:1,consts:[["id","button-wrapper"],["matRipple","",1,"button","btn-primary",3,"click"],["cdkDropList","","class","category",3,"cdkDropListDropped",4,"ngFor","ngForOf"],["matRipple","","routerLink","/dashboard",1,"button","btn-danger"],["cdkDropList","",1,"category",3,"cdkDropListDropped"],[1,"category-header"],["class","error",4,"ngIf"],["cdkDrag","","class","product",4,"ngFor","ngForOf"],[1,"error"],["cdkDrag","",1,"product"],["cdkDragHandle",""],[1,"icon-wrapper"],["mat-icon-button","",3,"click"],["color","primary"],["color","warn"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return s.create()}),e.EFF(2,"Produkt hinzuf\xfcgen"),e.k0s()(),e.DNE(3,_i,5,3,"div",2),e.j41(4,"div",3),e.EFF(5,"Zur\xfcck"),e.k0s()),2&i&&(e.R7$(3),e.Y8G("ngForOf",s.displayData))},dependencies:[b.Sq,b.bT,F.Wk,f.r6,rt.An,at.iY,nt,ot,st,b.QX],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center}#unsaved[_ngcontent-%COMP%]{display:flex;align-items:center}#unsaved[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5em}#button-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly}#button-wrapper[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:1em 0}.category[_ngcontent-%COMP%]{width:100%}.category[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:5px 10px;background:var(--accent)}.product[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]{width:100%;font-size:4vw;display:flex;align-items:center;justify-content:space-between;background:#fff}.product[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{width:5%;cursor:grab;margin-left:.75em}.product[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:active, .cdk-drag-preview[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:active{cursor:grabbing}.product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left}.product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2), .cdk-drag-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){width:35%}.product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3), .cdk-drag-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){width:15%}.product[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:25%}.product[_ngcontent-%COMP%]:nth-child(odd), .cdk-drag-preview[_ngcontent-%COMP%]:nth-child(odd){background:var(--table-accent)}.btn-danger[_ngcontent-%COMP%]{margin:1em 0}"]})}}return o})(),oe=(()=>{class o{constructor(t,i){this.data=t,this.dialogRef=i,this.isEdit=!1,t?(this.category={...t},this.isEdit=!0):this.category={id:-1,name:"",ordering:NaN}}save(){0===this.category.name.trim().length?this.dialogRef.close(null):this.dialogRef.close({name:this.category.name.trim()})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(W),e.rXU(G))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-category-popup"]],decls:11,vars:3,consts:[["appearance","outline"],["matInput","",3,"ngModel","ngModelChange"],["id","button-wrapper"],["matRipple","",1,"button","btn-danger",3,"mat-dialog-close"],["matRipple","",1,"button","btn-ok",3,"click"]],template:function(i,s){1&i&&(e.j41(0,"h1"),e.EFF(1),e.k0s(),e.j41(2,"mat-form-field",0)(3,"mat-label"),e.EFF(4,"Name"),e.k0s(),e.j41(5,"input",1),e.bIt("ngModelChange",function(a){return s.category.name=a}),e.k0s()(),e.j41(6,"div",2)(7,"div",3),e.EFF(8," Abbrechen "),e.k0s(),e.j41(9,"div",4),e.bIt("click",function(){return s.save()}),e.EFF(10," Speichern "),e.k0s()()),2&i&&(e.R7$(1),e.SpI("Kategorie ",s.isEdit?"bearbeiten":"hinzuf\xfcgen",""),e.R7$(4),e.Y8G("ngModel",s.category.name),e.R7$(2),e.Y8G("mat-dialog-close",null))},dependencies:[f.r6,ct,Q.fg,S.rl,S.nJ,y.me,y.BC,y.vS],styles:["[_nghost-%COMP%]{width:70vw;padding:1em;display:block}h1[_ngcontent-%COMP%]{margin:0 0 1em;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%}#button-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-around}"]})}}return o})();function bi(o,n){if(1&o){const t=e.RV6();e.j41(0,"div",6)(1,"mat-icon",7),e.EFF(2,"drag_handle"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"div",8)(6,"button",9),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.edit(r))}),e.j41(7,"mat-icon",10),e.EFF(8,"edit"),e.k0s()(),e.j41(9,"button",9),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.delete(r.id))}),e.j41(10,"mat-icon",11),e.EFF(11,"delete"),e.k0s()()()()}if(2&o){const t=n.$implicit;e.R7$(4),e.JRh(t.name)}}function vi(o,n){1&o&&(e.j41(0,"span",12),e.EFF(1,"Es sind noch keine Tische vorhanden"),e.k0s())}let yi=(()=>{class o{constructor(t,i,s,r){this.data=t,this.header=i,this.dialog=s,this.snackBar=r,this.categories=[],this.loaded=!1,this.data.categories.subscribe(a=>{this.categories=a.sort((l,c)=>l.ordering-c.ordering),this.loaded=!0}),this.data.fetchData(),this.header.text="Kategorien bearbeiten"}create(){this.dialog.open(oe,{data:null}).afterClosed().subscribe(t=>{t&&(this.categories.find(i=>i.id===t.id)?this.snackBar.open(`Kategorie ${t.name} existiert bereits`,"X",{duration:2500}):this.data.upsert("category",{...t}))})}delete(t){this.data.delete("category",t).then(i=>{this.snackBar.open("Kategorie gel\xf6scht","X",{duration:2500})}).catch(i=>{"23503"===i.code?this.snackBar.open("Kategorie kann nicht gel\xf6scht werden, da sie noch verwendet wird","X",{duration:2500}):(console.log(i),this.snackBar.open("Kategorie konnte nicht gel\xf6scht werden","X",{duration:2500}))})}edit(t){this.dialog.open(oe,{data:t}).afterClosed().subscribe(i=>{i&&(this.categories.find(s=>s.name.toLowerCase().trim()===i.name.toLowerCase().trim())?this.snackBar.open(`Kategorie ${i.name} existiert bereits`,"X",{duration:2500}):this.data.upsert("category",{...i,id:t.id}))})}drop(t){et(this.categories,t.previousIndex,t.currentIndex);const i=[];this.categories=this.categories.map((s,r)=>{const a={...s,ordering:r+1};return s.ordering!==a.ordering&&i.push(a),a}),i.forEach(s=>{this.data.upsert("category",{...s})})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(I.u),e.rXU(j.d),e.rXU(B),e.rXU(U.UG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-category"]],decls:8,vars:2,consts:[["id","button-wrapper"],["matRipple","",1,"button","btn-primary",3,"click"],["cdkDropList","","id","table-wrapper",3,"cdkDropListDropped"],["cdkDrag","","class","table",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["matRipple","","routerLink","/dashboard",1,"button","btn-danger"],["cdkDrag","",1,"table"],["cdkDragHandle",""],[1,"icon-wrapper"],["mat-icon-button","",3,"click"],["color","primary"],["color","warn"],[1,"error"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return s.create()}),e.EFF(2,"Kategorie hinzuf\xfcgen"),e.k0s()(),e.j41(3,"div",2),e.bIt("cdkDropListDropped",function(a){return s.drop(a)}),e.DNE(4,bi,12,1,"div",3),e.k0s(),e.DNE(5,vi,2,0,"span",4),e.j41(6,"div",5),e.EFF(7,"Zur\xfcck"),e.k0s()),2&i&&(e.R7$(4),e.Y8G("ngForOf",s.categories),e.R7$(1),e.Y8G("ngIf",0===s.categories.length&&s.loaded))},dependencies:[b.Sq,b.bT,F.Wk,f.r6,rt.An,at.iY,nt,ot,st],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center}#unsaved[_ngcontent-%COMP%]{display:flex;align-items:center}#unsaved[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5em}#button-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly}#button-wrapper[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:1em 0}#table-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.table[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]{width:100%;font-size:4vw;display:flex;align-items:center;justify-content:space-between;background:#fff}.table[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{width:5%;cursor:grab;margin-left:.75em}.table[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:active, .cdk-drag-preview[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:active{cursor:grabbing}.table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;text-align:left}.table[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:25%}.table[_ngcontent-%COMP%]:nth-child(odd), .cdk-drag-preview[_ngcontent-%COMP%]:nth-child(odd){background:var(--table-accent)}.btn-danger[_ngcontent-%COMP%]{margin:1em 0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return o})();var re=function(o){return o.SERVER="SERVER",o.PRINTER="PRINTER",o}(re||{});function Di(o,n){if(1&o){const t=e.RV6();e.j41(0,"div",3),e.nrm(1,"img",4),e.j41(2,"div",5)(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.EFF(6),e.k0s(),e.j41(7,"div",6)(8,"button",7),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.addInfrastructure(r))}),e.EFF(9,"zur Infrastruktur hinzuf\xfcgen"),e.k0s()()()()}if(2&o){const t=n.$implicit;e.R7$(1),e.Mz_("src","/assets/images/",t.type.toLowerCase(),".webp",e.B4B),e.R7$(3),e.Lme("",t.name," (",t.type,")"),e.R7$(2),e.JRh(t.interface)}}function wi(o,n){1&o&&(e.j41(0,"span",8),e.EFF(1,"Es sind keine Drucker verf\xfcgbar oder alle eingebunden"),e.k0s())}function xi(o,n){1&o&&(e.j41(0,"span",8),e.EFF(1,"Diesem Drucker sind keine Kategorien zugewiesen"),e.k0s())}function Si(o,n){if(1&o&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&o){const t=n.$implicit;e.R7$(1),e.JRh(t.name)}}function Pi(o,n){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=n.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t.name)}}function ki(o,n){if(1&o){const t=e.RV6();e.j41(0,"div",3)(1,"h3",9),e.EFF(2),e.k0s(),e.j41(3,"span",10),e.EFF(4),e.k0s(),e.nrm(5,"img",4),e.j41(6,"div",5)(7,"h3"),e.EFF(8,"Kategorien"),e.k0s(),e.DNE(9,xi,2,0,"span",1),e.j41(10,"ul"),e.DNE(11,Si,2,1,"li",11),e.k0s()(),e.j41(12,"mat-form-field",12)(13,"mat-select",13),e.bIt("ngModelChange",function(s){const a=e.eBV(t).$implicit;return e.Njj(a.categories=s)}),e.DNE(14,Pi,2,2,"mat-option",14),e.k0s()(),e.j41(15,"div",6)(16,"button",15),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.saveInfrastructureConfig(r))}),e.EFF(17,"Speichern"),e.k0s(),e.j41(18,"button",16),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deleteInfrastructureConfig(r))}),e.EFF(19,"L\xf6schen"),e.k0s()()()}if(2&o){const t=n.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.printer.name),e.R7$(2),e.JRh(t.printer.interface),e.R7$(1),e.Mz_("src","/assets/images/",t.printer.type.toLowerCase(),".webp",e.B4B),e.R7$(4),e.Y8G("ngIf",0===t.categories.length&&i.loaded),e.R7$(2),e.Y8G("ngForOf",t.categories),e.R7$(2),e.Y8G("ngModel",t.categories),e.R7$(1),e.Y8G("ngForOf",i.categories)}}function Ei(o,n){1&o&&(e.j41(0,"span",8),e.EFF(1,"Es ist noch keine Infrastruktur vorhanden"),e.k0s())}const Oi=[{path:"",component:ce},{path:"edit/tables",component:Xe},{path:"edit/products",component:fi},{path:"edit/categories",component:yi},{path:"edit/infrastructure",component:(()=>{class o{constructor(t,i,s,r){this.data=t,this.header=i,this.dialog=s,this.snackBar=r,this.categories=[],this.printers=[],this.infrastructure=[],this.loaded=!1,this.data.categories.subscribe(a=>{this.categories=a.sort((l,c)=>l.ordering-c.ordering),this.loaded=!0}),this.data.devices.subscribe(a=>{this.printers=a.filter(l=>l.deviceType===re.PRINTER),this.loaded=!0}),this.data.infrastructure.subscribe(a=>{0!==this.categories.length?this.infrastructure=a.map(l=>(isNaN(l.printer)||(l.printer=this.printers.find(c=>c.id===l.printer)),{...l,categories:l.categories.map(c=>this.categories.find(d=>c===d.id)).filter(c=>void 0!==c)})):setTimeout(()=>this.data.fetchData(),1e3)}),this.data.fetchData(),this.header.text="Infrastruktur bearbeiten"}getAvailablePrinters(){return this.printers.filter(t=>!this.infrastructure.find(i=>i.printer.id===t.id))}addInfrastructure(t){this.infrastructure.push({id:NaN,categories:[],printer:t,lastPing:Date.now()})}saveInfrastructureConfig(t){isNaN(t.id)&&delete t.id,this.data.upsert("infrastructure",{...t,categories:t.categories.map(i=>i.id),printer:t.printer.id}).then(i=>{this.snackBar.open("Infrastruktur gespeichert","X",{duration:2500})})}deleteInfrastructureConfig(t){if(isNaN(t.id))return console.log("Infrastructure config not saved yet, removing from local list"),this.infrastructure=this.infrastructure.filter(i=>!isNaN(i.id)),void this.snackBar.open("Infrastruktur gel\xf6scht","X",{duration:2500});this.data.delete("infrastructure",t.id).then(i=>{this.snackBar.open("Infrastruktur gel\xf6scht","X",{duration:2500})})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(I.u),e.rXU(j.d),e.rXU(B),e.rXU(U.UG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-infrastructure"]],decls:10,vars:4,consts:[["class","printer",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["matRipple","","routerLink","/dashboard",1,"button","btn-danger"],[1,"printer"],["alt","printer",3,"src"],[1,"printer-content"],[1,"button-wrapper"],["matRipple","",1,"button","btn-primary",3,"click"],[1,"error"],[2,"margin-bottom","0"],[2,"width","100%","margin-bottom",".5em"],[4,"ngFor","ngForOf"],["appearance","outline"],["multiple","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matRipple","",1,"button","btn-ok",3,"click"],["matRipple","",1,"button","btn-danger",3,"click"],[3,"value"]],template:function(i,s){1&i&&(e.j41(0,"h2"),e.EFF(1,"Druckerliste"),e.k0s(),e.DNE(2,Di,10,4,"div",0),e.DNE(3,wi,2,0,"span",1),e.j41(4,"h2"),e.EFF(5,"Event-Infrastruktur"),e.k0s(),e.DNE(6,ki,20,7,"div",0),e.DNE(7,Ei,2,0,"span",1),e.j41(8,"div",2),e.EFF(9,"Zur\xfcck"),e.k0s()),2&i&&(e.R7$(2),e.Y8G("ngForOf",s.getAvailablePrinters()),e.R7$(1),e.Y8G("ngIf",0===s.getAvailablePrinters().length&&s.loaded),e.R7$(3),e.Y8G("ngForOf",s.infrastructure),e.R7$(1),e.Y8G("ngIf",0===s.infrastructure.length&&s.loaded))},dependencies:[b.Sq,b.bT,F.Wk,f.r6,S.rl,y.BC,y.vS,ne,f.wT],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center}#unsaved[_ngcontent-%COMP%]{display:flex;align-items:center}#unsaved[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5em}.button-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly}.button-wrapper[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{margin:1em 0}.printer[_ngcontent-%COMP%]{width:90vw;padding:2em 1em;box-sizing:border-box;border-radius:5px;box-shadow:var(--box-shadow);display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;margin:.5em 0}.printer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;margin-top:0}.printer[_ngcontent-%COMP%]   .printer-content[_ngcontent-%COMP%]{width:60%}.printer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}.printer[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:1em 0;width:100%}.printer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0}"]})}}return o})()}];let Mi=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[b.MD,F.iI.forChild(Oi),U._T,f.pZ,rt.m_,at.Hl,Ce,Q.fS,y.YN,gi,y.X1]})}}return o})()}}]);